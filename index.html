<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

   <!-- Import pure.css -->
   <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
     integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
   <meta name="viewport" content="width=device-width, initial-scale=1">

 <!-- Google font -->
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
  
  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">


</head>
<body>
  
  <div class="page">

    <!-- pure grid group -->
     <div class="pure-g">
       <div class="pure-u-1-1">
         <h1>Damages caused by natural disasters globally</h1>
         <p>
 
           Natural Disasters are essentially forces of nature and often cause serious damage to both properties and human lives when it occurs. This visualisation studies the effect
           of natural disasters by looking at critical elements such as fatalities and economical damage based on the proportion of GDP of each countries.
 
         </p>
       </div>
     </div>
   <!-- end pure grid group -->
 
     <!-- pure grid group -->
     <div class="pure-g">
         <div class="pure-u-1-3">
           <div class="description description-left">
             <h2>Death counts associated to each disaster each decade</h2>
             <p>As seen in the visualisation on the right, the amount of fatalities caused by natural disasters is the highest during 1920. The fatalities count remain extremely high
              for roughly another 2 decades (1930 & 1940) before experiencing a significant drop. In the 1920s, out of the 550,000 fatalities, 472,400 of it is caused by drought. 
              This makes up around 85% the deaths in the 1920s. On the other hand, in the 1930s, out of the 460,000 fatalities, 436,146.5 deaths are caused by floods, making up roughly 95%
              of the deaths.</p>
           </div>
         </div>
         <div class="pure-u-2-3">
           <div id="vis1" class="vis-container"></div>
         </div>
     </div>
     <!-- end pure grid group -->
 
     <!-- pure grid group -->
     <div class="pure-g">
         <div class="pure-u-2-3">
           <div id="vis2"  class="vis-container"></div>
         </div>
         <div class="pure-u-1-3">
           <div class="description description-right">
             <h2>Effect on countries' economy</h2>
             <p>Natural disasters caused the most significant economical damage to countries such as New Zealand, Thailand, Mozambique and Nepal. The economical damage suffered by these
              countries has increased up 1% of these countries' GDP!
             </p>
           </div>
         </div>
       
     </div>
     <!-- end pure grid group -->

     <!-- pure grid group -->
     <div class="pure-g">
        <div class="pure-u-1-3">
          <div class="description description-left">
            <h2>Number of people affected by natural disasters per 100k population</h2>
            <p>Majority of the countries experience a sharp increase in number of people affected in after the <b><i>1950s</i></b>.
              Prior to this, the number of people affected by disasters were often well below 1000 per 100k population.
              </p>
          </div>
        </div>
        <div class="pure-u-2-3">
          <div id="vis3"  class="vis-container"></div>
        </div>
      
      </div>
  
      <!-- end pure grid group -->
  
      <!-- pure grid group -->
       <div class="pure-g">
        <div class="pure-u-1-1">
            <h2 style="text-align:center;">Impact of natural disasters on people based on their income level</h2>
            <p style="padding-right: 150px; padding-left: 150px;">As seen in the diagram below, the number of people <b><i>left homeless</i></b> is more significant
                among the <b><i>middle income population</i></b>. On the other hand, those who have high income level seems to be less impacted by these natural disasters
                since they are more like to be able to afford buying /repairing their houses after a natural disaster. Surprisingly, while there is still a significant number
                of <b><i>low income earners</i></b> becoming homeless after a natural disaster, it does not seem to be as many as those from the middle income bracket.
            </p>
            
            </div>
          </div>
      <!-- end pure grid group -->
  
      <!-- pure grid group -->
       <div class="pure-g">
        
        <div class="pure-u-1-8">         
        </div>
  
        <div class="pure-u-7-8">
          <div id="vis4"  class="vis-container"></div>
        </div>  
          
  
      </div>
  
      <!-- end pure grid group -->   
 
     <div class="pure-g">
       <div class="pure-u-1-1 small-font">
         <p>This visualisation is created by <a href="https://github.com/WeiJunHeng" target="_blank">Heng Wei Jun</a>. The datasource is <a href="https://www.kaggle.com/datasets/mathurinache/natural-disasters-data-explorer?resource=download" target="_blank">from kaggle</kaggle></href>.</p>
       </div>
     </div>
   
 
   </div> <!-- end page -->


<script type="text/javascript">
  var specVis1 = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": "Death counts of natural disasters around the world throughout year 1900 - 2010",
    "width": 250,
    "height": 220,
    "data": { "url": "https://raw.githubusercontent.com/WeiJunHeng/FIT3179-Asgn2-Vis/main/data/natural_disasters_barchart.csv"},
    "selection": {
      "disasters_highlight": {
      "type": "multi",
      "fields": ["Disasters"],
      "bind": "legend"
      }
      },
    "params": [
      {"name": "Country_selection",
       "bind": {
         "input": "select",
         "options": [
           "World",
           "Afghanistan",
           "Africa",
           "Albania",
           "Algeria",
           "American Samoa",
           "Angola",
           "Anguilla",
           "Antigua and Barbuda",
           "Argentina",
           "Armenia",
           "Asia",
           "Australia",
           "Austria",
           "Azerbaijan",
           "Bahamas",
           "Bangladesh",
           "Barbados",
           "Belarus",
           "Belgium",
           "Belize",
           "Benin",
           "Bermuda",
           "Bhutan",
           "Bolivia",
           "Bosnia and Herzegovina",
           "Botswana",
           "Brazil",
           "British Virgin Islands",
           "Brunei",
           "Bulgaria",
           "Burkina Faso",
           "Burundi",
           "Cambodia",
           "Cameroon",
           "Canada",
           "Cape Verde",
           "Cayman Islands",
           "Central African Republic",
           "Chad",
           "Chile",
           "China",
           "Colombia",
           "Comoros",
           "Congo",
           "Costa Rica",
           "Cote d'Ivoire",
           "Croatia",
           "Cuba",
           "Cyprus",
           "Czechia",
           "Czechoslovakia",
           "Democratic Republic of Congo",
           "Denmark",
           "Djibouti",
           "Dominica",
           "Dominican Republic",
           "Ecuador",
           "Egypt",
           "El Salvador",
           "Eritrea",
           "Estonia",
           "Eswatini",
           "Ethiopia",
           "Europe",
           "Fiji",
           "Finland",
           "France",
           "French Guiana",
           "French Polynesia",
           "Gabon",
           "Gambia",
           "Georgia",
           "Germany",
           "Ghana",
           "Greece",
           "Grenada",
           "Guadeloupe",
           "Guam",
           "Guatemala",
           "Guinea",
           "Guinea-Bissau",
           "Guyana",
           "Haiti",
           "High income",
           "Honduras",
           "Hong Kong",
           "Hungary",
           "Iceland",
           "India",
           "Indonesia",
           "Iran",
           "Iraq",
           "Ireland",
           "Israel",
           "Italy",
           "Jamaica",
           "Japan",
           "Jordan",
           "Kazakhstan",
           "Kenya",
           "Kiribati",
           "Kuwait",
           "Kyrgyzstan",
           "Laos",
           "Latvia",
           "Lebanon",
           "Lesotho",
           "Liberia",
           "Libya",
           "Lithuania",
           "Low income",
           "Lower middle income",
           "Luxembourg",
           "Macao",
           "Madagascar",
           "Malawi",
           "Malaysia",
           "Maldives",
           "Mali",
           "Marshall Islands",
           "Martinique",
           "Mauritania",
           "Mauritius",
           "Mexico",
           "Micronesia",
           "Moldova",
           "Mongolia",
           "Montenegro",
           "Montserrat",
           "Morocco",
           "Mozambique",
           "Myanmar",
           "Namibia",
           "Nepal",
           "Netherlands",
           "Netherlands Antilles",
           "New Caledonia",
           "New Zealand",
           "Nicaragua",
           "Niger",
           "Nigeria",
           "North America",
           "North Korea",
           "North Macedonia",
           "Northern Mariana Islands",
           "Norway",
           "Oceania",
           "Oman",
           "Pakistan",
           "Palau",
           "Palestine",
           "Panama",
           "Papua New Guinea",
           "Paraguay",
           "Peru",
           "Philippines",
           "Poland",
           "Portugal",
           "Puerto Rico",
           "Qatar",
           "Reunion",
           "Romania",
           "Russia",
           "Rwanda",
           "Saint Barthelemy",
           "Saint Helena, Ascension and Tristan da Cunha",
           "Saint Kitts and Nevis",
           "Saint Lucia",
           "Saint Martin (French Part)",
           "Saint Vincent and the Grenadines",
           "Samoa",
           "Sao Tome and Principe",
           "Saudi Arabia",
           "Senegal",
           "Serbia",
           "Serbia-Montenegro",
           "Seychelles",
           "Sierra Leone",
           "Sint Maarten (Dutch part)",
           "Slovakia",
           "Slovenia",
           "Solomon Islands",
           "Somalia",
           "South Africa",
           "South America",
           "South Korea",
           "South Sudan",
           "Soviet Union",
           "Spain",
           "Sri Lanka",
           "Sudan",
           "Suriname",
           "Sweden",
           "Switzerland",
           "Syria",
           "Taiwan",
           "Tajikistan",
           "Tanzania",
           "Thailand",
           "Timor",
           "Togo",
           "Tonga",
           "Trinidad and Tobago",
           "Tunisia",
           "Turkey",
           "Turkmenistan",
           "Turks and Caicos Islands",
           "Tuvalu",
           "Uganda",
           "Ukraine",
           "United Arab Emirates",
           "United Kingdom",
           "United States",
           "United States Virgin Islands",
           "Upper middle income",
           "Uruguay",
           "Uzbekistan",
           "Vanuatu",
           "Venezuela",
           "Vietnam",
           "Wallis and Futuna",
           "Yemen",
           "Yugoslavia",
           "Zambia",
           "Zimbabwe"
          ],

          "labels": [
            "World",
            "Afghanistan",
           "Africa",
           "Albania",
           "Algeria",
           "American Samoa",
           "Angola",
           "Anguilla",
           "Antigua and Barbuda",
           "Argentina",
           "Armenia",
           "Asia",
           "Australia",
           "Austria",
           "Azerbaijan",
           "Bahamas",
           "Bangladesh",
           "Barbados",
           "Belarus",
           "Belgium",
           "Belize",
           "Benin",
           "Bermuda",
           "Bhutan",
           "Bolivia",
           "Bosnia and Herzegovina",
           "Botswana",
           "Brazil",
           "British Virgin Islands",
           "Brunei",
           "Bulgaria",
           "Burkina Faso",
           "Burundi",
           "Cambodia",
           "Cameroon",
           "Canada",
           "Cape Verde",
           "Cayman Islands",
           "Central African Republic",
           "Chad",
           "Chile",
           "China",
           "Colombia",
           "Comoros",
           "Congo",
           "Costa Rica",
           "Cote d'Ivoire",
           "Croatia",
           "Cuba",
           "Cyprus",
           "Czechia",
           "Czechoslovakia",
           "Democratic Republic of Congo",
           "Denmark",
           "Djibouti",
           "Dominica",
           "Dominican Republic",
           "Ecuador",
           "Egypt",
           "El Salvador",
           "Eritrea",
           "Estonia",
           "Eswatini",
           "Ethiopia",
           "Europe",
           "Fiji",
           "Finland",
           "France",
           "French Guiana",
           "French Polynesia",
           "Gabon",
           "Gambia",
           "Georgia",
           "Germany",
           "Ghana",
           "Greece",
           "Grenada",
           "Guadeloupe",
           "Guam",
           "Guatemala",
           "Guinea",
           "Guinea-Bissau",
           "Guyana",
           "Haiti",
           "High income",
           "Honduras",
           "Hong Kong",
           "Hungary",
           "Iceland",
           "India",
           "Indonesia",
           "Iran",
           "Iraq",
           "Ireland",
           "Israel",
           "Italy",
           "Jamaica",
           "Japan",
           "Jordan",
           "Kazakhstan",
           "Kenya",
           "Kiribati",
           "Kuwait",
           "Kyrgyzstan",
           "Laos",
           "Latvia",
           "Lebanon",
           "Lesotho",
           "Liberia",
           "Libya",
           "Lithuania",
           "Low income",
           "Lower middle income",
           "Luxembourg",
           "Macao",
           "Madagascar",
           "Malawi",
           "Malaysia",
           "Maldives",
           "Mali",
           "Marshall Islands",
           "Martinique",
           "Mauritania",
           "Mauritius",
           "Mexico",
           "Micronesia",
           "Moldova",
           "Mongolia",
           "Montenegro",
           "Montserrat",
           "Morocco",
           "Mozambique",
           "Myanmar",
           "Namibia",
           "Nepal",
           "Netherlands",
           "Netherlands Antilles",
           "New Caledonia",
           "New Zealand",
           "Nicaragua",
           "Niger",
           "Nigeria",
           "North America",
           "North Korea",
           "North Macedonia",
           "Northern Mariana Islands",
           "Norway",
           "Oceania",
           "Oman",
           "Pakistan",
           "Palau",
           "Palestine",
           "Panama",
           "Papua New Guinea",
           "Paraguay",
           "Peru",
           "Philippines",
           "Poland",
           "Portugal",
           "Puerto Rico",
           "Qatar",
           "Reunion",
           "Romania",
           "Russia",
           "Rwanda",
           "Saint Barthelemy",
           "Saint Helena, Ascension and Tristan da Cunha",
           "Saint Kitts and Nevis",
           "Saint Lucia",
           "Saint Martin (French Part)",
           "Saint Vincent and the Grenadines",
           "Samoa",
           "Sao Tome and Principe",
           "Saudi Arabia",
           "Senegal",
           "Serbia",
           "Serbia-Montenegro",
           "Seychelles",
           "Sierra Leone",
           "Sint Maarten (Dutch part)",
           "Slovakia",
           "Slovenia",
           "Solomon Islands",
           "Somalia",
           "South Africa",
           "South America",
           "South Korea",
           "South Sudan",
           "Soviet Union",
           "Spain",
           "Sri Lanka",
           "Sudan",
           "Suriname",
           "Sweden",
           "Switzerland",
           "Syria",
           "Taiwan",
           "Tajikistan",
           "Tanzania",
           "Thailand",
           "Timor",
           "Togo",
           "Tonga",
           "Trinidad and Tobago",
           "Tunisia",
           "Turkey",
           "Turkmenistan",
           "Turks and Caicos Islands",
           "Tuvalu",
           "Uganda",
           "Ukraine",
           "United Arab Emirates",
           "United Kingdom",
           "United States",
           "United States Virgin Islands",
           "Upper middle income",
           "Uruguay",
           "Uzbekistan",
           "Vanuatu",
           "Venezuela",
           "Vietnam",
           "Wallis and Futuna",
           "Yemen",
           "Yugoslavia",
           "Zambia",
           "Zimbabwe"
          ],
          "name": "Select Country: "
       }  
      }
    ],
    "transform": [
      {"filter": "Country_selection == null || datum.Entity == Country_selection"}
    ],   
    "mark": "bar",
    "encoding": {
      "x": {"field": "Deaths", "type": "quantitative"},
      "y": {"field": "Year", "type": "ordinal"},
      "color": {"field": "Disasters", "type": "nominal", "title": "Disaster Types"},
      "opacity": {
          "condition": {"selection": "disasters_highlight","value": 1.0},
          "value": 0.1
          },
      "tooltip": [{"field": "Deaths", "type": "quantitative", "format": ",", "title": "Deaths"},
      {"field": "Disasters", "type": "nominal", "title": "Disasters"}]
    } 
}
  var specVis2 = {
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 300,
  "height": 250,
  "title": "Economical Damage due to Natural Disasters from 1900s to 2010",
  "projection": {"type": "equirectangular"},
  "data": {
    "url": "https://raw.githubusercontent.com/WeiJunHeng/FIT3179-Week-10-HW/main/js/ne_110m_admin_0_countries.json",
    "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
  },
  "layer": [
    {
      "transform": [
        {"calculate": "'Data is not available in ' + datum.properties.NAME", "as": "note"}
      ],
      "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"},
      "encoding": {
        "tooltip": {
          "field": "note"
        }
      }
    },
    {
      "transform": [
        {
          "lookup": "properties.NAME",
          "from": {
            "data": {
              "url": "https://raw.githubusercontent.com/WeiJunHeng/FIT3179-Week-10-HW/main/data/natural_disasters_map.csv"
            },
            "key": "Entity",
            "fields": ["Absolute Change in proportion of GDP"]          
          }
        }
      ],
      "mark": {"type": "geoshape"},
      "encoding": {
        "color": {
          "field": "Absolute Change in proportion of GDP",
          "type": "quantitative",
          "scale": {
            "domain": [-3,2]
          }
        },
        "tooltip": [
          {
            "field": "properties.NAME",
            "type": "nominal",
            "title": "Country"
          },
          {
            "field": "Absolute Change in proportion of GDP",
            "type": "quantitative",
            "format": ".2f",
            "title": "Change in the % of GDP that economic damages due to disasters"
          }
        ]
      }
    }
  ]
};
    var specVis3 = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "background": "#FEF8F4",
    "data": {"url": "https://raw.githubusercontent.com/WeiJunHeng/FIT3179-Asgn2-Vis/main/data/natural_disasters_lineplot.csv"},
    "width":250,
    "height":200,
    "selection": {
        "disasters_highlight": {
        "type": "multi",
        "fields": ["Disasters"],
        "bind": "legend"
        }
        },
      "params": [
        {"name": "Country_selection",
         "bind": {
           "input": "select",
           "options": [
             null,
             "Afghanistan",
             "Africa",
             "Albania",
             "Algeria",
             "American Samoa",
             "Angola",
             "Anguilla",
             "Antigua and Barbuda",
             "Argentina",
             "Armenia",
             "Asia",
             "Australia",
             "Austria",
             "Azerbaijan",
             "Bahamas",
             "Bangladesh",
             "Barbados",
             "Belarus",
             "Belgium",
             "Belize",
             "Benin",
             "Bermuda",
             "Bhutan",
             "Bolivia",
             "Bosnia and Herzegovina",
             "Botswana",
             "Brazil",
             "British Virgin Islands",
             "Brunei",
             "Bulgaria",
             "Burkina Faso",
             "Burundi",
             "Cambodia",
             "Cameroon",
             "Canada",
             "Cape Verde",
             "Cayman Islands",
             "Central African Republic",
             "Chad",
             "Chile",
             "China",
             "Colombia",
             "Comoros",
             "Congo",
             "Costa Rica",
             "Cote d'Ivoire",
             "Croatia",
             "Cuba",
             "Cyprus",
             "Czechia",
             "Czechoslovakia",
             "Democratic Republic of Congo",
             "Denmark",
             "Djibouti",
             "Dominica",
             "Dominican Republic",
             "Ecuador",
             "Egypt",
             "El Salvador",
             "Eritrea",
             "Estonia",
             "Eswatini",
             "Ethiopia",
             "Europe",
             "Fiji",
             "Finland",
             "France",
             "French Guiana",
             "French Polynesia",
             "Gabon",
             "Gambia",
             "Georgia",
             "Germany",
             "Ghana",
             "Greece",
             "Grenada",
             "Guadeloupe",
             "Guam",
             "Guatemala",
             "Guinea",
             "Guinea-Bissau",
             "Guyana",
             "Haiti",
             "High income",
             "Honduras",
             "Hong Kong",
             "Hungary",
             "Iceland",
             "India",
             "Indonesia",
             "Iran",
             "Iraq",
             "Ireland",
             "Israel",
             "Italy",
             "Jamaica",
             "Japan",
             "Jordan",
             "Kazakhstan",
             "Kenya",
             "Kiribati",
             "Kuwait",
             "Kyrgyzstan",
             "Laos",
             "Latvia",
             "Lebanon",
             "Lesotho",
             "Liberia",
             "Libya",
             "Lithuania",
             "Low income",
             "Lower middle income",
             "Luxembourg",
             "Macao",
             "Madagascar",
             "Malawi",
             "Malaysia",
             "Maldives",
             "Mali",
             "Marshall Islands",
             "Martinique",
             "Mauritania",
             "Mauritius",
             "Mexico",
             "Micronesia",
             "Moldova",
             "Mongolia",
             "Montenegro",
             "Montserrat",
             "Morocco",
             "Mozambique",
             "Myanmar",
             "Namibia",
             "Nepal",
             "Netherlands",
             "Netherlands Antilles",
             "New Caledonia",
             "New Zealand",
             "Nicaragua",
             "Niger",
             "Nigeria",
             "North America",
             "North Korea",
             "North Macedonia",
             "Northern Mariana Islands",
             "Norway",
             "Oceania",
             "Oman",
             "Pakistan",
             "Palau",
             "Palestine",
             "Panama",
             "Papua New Guinea",
             "Paraguay",
             "Peru",
             "Philippines",
             "Poland",
             "Portugal",
             "Puerto Rico",
             "Qatar",
             "Reunion",
             "Romania",
             "Russia",
             "Rwanda",
             "Saint Barthelemy",
             "Saint Helena, Ascension and Tristan da Cunha",
             "Saint Kitts and Nevis",
             "Saint Lucia",
             "Saint Martin (French Part)",
             "Saint Vincent and the Grenadines",
             "Samoa",
             "Sao Tome and Principe",
             "Saudi Arabia",
             "Senegal",
             "Serbia",
             "Serbia-Montenegro",
             "Seychelles",
             "Sierra Leone",
             "Sint Maarten (Dutch part)",
             "Slovakia",
             "Slovenia",
             "Solomon Islands",
             "Somalia",
             "South Africa",
             "South America",
             "South Korea",
             "South Sudan",
             "Soviet Union",
             "Spain",
             "Sri Lanka",
             "Sudan",
             "Suriname",
             "Sweden",
             "Switzerland",
             "Syria",
             "Taiwan",
             "Tajikistan",
             "Tanzania",
             "Thailand",
             "Timor",
             "Togo",
             "Tonga",
             "Trinidad and Tobago",
             "Tunisia",
             "Turkey",
             "Turkmenistan",
             "Turks and Caicos Islands",
             "Tuvalu",
             "Uganda",
             "Ukraine",
             "United Arab Emirates",
             "United Kingdom",
             "United States",
             "United States Virgin Islands",
             "Upper middle income",
             "Uruguay",
             "Uzbekistan",
             "Vanuatu",
             "Venezuela",
             "Vietnam",
             "Wallis and Futuna",
             "Yemen",
             "Yugoslavia",
             "Zambia",
             "Zimbabwe"
            ],
  
            "labels": [
              "World",
              "Afghanistan",
             "Africa",
             "Albania",
             "Algeria",
             "American Samoa",
             "Angola",
             "Anguilla",
             "Antigua and Barbuda",
             "Argentina",
             "Armenia",
             "Asia",
             "Australia",
             "Austria",
             "Azerbaijan",
             "Bahamas",
             "Bangladesh",
             "Barbados",
             "Belarus",
             "Belgium",
             "Belize",
             "Benin",
             "Bermuda",
             "Bhutan",
             "Bolivia",
             "Bosnia and Herzegovina",
             "Botswana",
             "Brazil",
             "British Virgin Islands",
             "Brunei",
             "Bulgaria",
             "Burkina Faso",
             "Burundi",
             "Cambodia",
             "Cameroon",
             "Canada",
             "Cape Verde",
             "Cayman Islands",
             "Central African Republic",
             "Chad",
             "Chile",
             "China",
             "Colombia",
             "Comoros",
             "Congo",
             "Costa Rica",
             "Cote d'Ivoire",
             "Croatia",
             "Cuba",
             "Cyprus",
             "Czechia",
             "Czechoslovakia",
             "Democratic Republic of Congo",
             "Denmark",
             "Djibouti",
             "Dominica",
             "Dominican Republic",
             "Ecuador",
             "Egypt",
             "El Salvador",
             "Eritrea",
             "Estonia",
             "Eswatini",
             "Ethiopia",
             "Europe",
             "Fiji",
             "Finland",
             "France",
             "French Guiana",
             "French Polynesia",
             "Gabon",
             "Gambia",
             "Georgia",
             "Germany",
             "Ghana",
             "Greece",
             "Grenada",
             "Guadeloupe",
             "Guam",
             "Guatemala",
             "Guinea",
             "Guinea-Bissau",
             "Guyana",
             "Haiti",
             "High income",
             "Honduras",
             "Hong Kong",
             "Hungary",
             "Iceland",
             "India",
             "Indonesia",
             "Iran",
             "Iraq",
             "Ireland",
             "Israel",
             "Italy",
             "Jamaica",
             "Japan",
             "Jordan",
             "Kazakhstan",
             "Kenya",
             "Kiribati",
             "Kuwait",
             "Kyrgyzstan",
             "Laos",
             "Latvia",
             "Lebanon",
             "Lesotho",
             "Liberia",
             "Libya",
             "Lithuania",
             "Low income",
             "Lower middle income",
             "Luxembourg",
             "Macao",
             "Madagascar",
             "Malawi",
             "Malaysia",
             "Maldives",
             "Mali",
             "Marshall Islands",
             "Martinique",
             "Mauritania",
             "Mauritius",
             "Mexico",
             "Micronesia",
             "Moldova",
             "Mongolia",
             "Montenegro",
             "Montserrat",
             "Morocco",
             "Mozambique",
             "Myanmar",
             "Namibia",
             "Nepal",
             "Netherlands",
             "Netherlands Antilles",
             "New Caledonia",
             "New Zealand",
             "Nicaragua",
             "Niger",
             "Nigeria",
             "North America",
             "North Korea",
             "North Macedonia",
             "Northern Mariana Islands",
             "Norway",
             "Oceania",
             "Oman",
             "Pakistan",
             "Palau",
             "Palestine",
             "Panama",
             "Papua New Guinea",
             "Paraguay",
             "Peru",
             "Philippines",
             "Poland",
             "Portugal",
             "Puerto Rico",
             "Qatar",
             "Reunion",
             "Romania",
             "Russia",
             "Rwanda",
             "Saint Barthelemy",
             "Saint Helena, Ascension and Tristan da Cunha",
             "Saint Kitts and Nevis",
             "Saint Lucia",
             "Saint Martin (French Part)",
             "Saint Vincent and the Grenadines",
             "Samoa",
             "Sao Tome and Principe",
             "Saudi Arabia",
             "Senegal",
             "Serbia",
             "Serbia-Montenegro",
             "Seychelles",
             "Sierra Leone",
             "Sint Maarten (Dutch part)",
             "Slovakia",
             "Slovenia",
             "Solomon Islands",
             "Somalia",
             "South Africa",
             "South America",
             "South Korea",
             "South Sudan",
             "Soviet Union",
             "Spain",
             "Sri Lanka",
             "Sudan",
             "Suriname",
             "Sweden",
             "Switzerland",
             "Syria",
             "Taiwan",
             "Tajikistan",
             "Tanzania",
             "Thailand",
             "Timor",
             "Togo",
             "Tonga",
             "Trinidad and Tobago",
             "Tunisia",
             "Turkey",
             "Turkmenistan",
             "Turks and Caicos Islands",
             "Tuvalu",
             "Uganda",
             "Ukraine",
             "United Arab Emirates",
             "United Kingdom",
             "United States",
             "United States Virgin Islands",
             "Upper middle income",
             "Uruguay",
             "Uzbekistan",
             "Vanuatu",
             "Venezuela",
             "Vietnam",
             "Wallis and Futuna",
             "Yemen",
             "Yugoslavia",
             "Zambia",
             "Zimbabwe"
            ],
            "name": "Select Country: "
         }  
        }
      ],
      "transform": [
        {"filter": "Country_selection == null || datum.Entity == Country_selection"}
      ],
    "mark": {
      "type": "line",
      "point": {
        "filled": false,
        "fill": "white"
      }
    },
    "encoding": {
      "x": {"field": "Year","type": "ordinal", "axis":{"labelAngle":0}},
      "y": {"field": "total_affected_rate_per_100k_all_disasters", "type": "quantitative","title":"No. of ppl affected (per 100,000)"},
      "color": {"field": "Entity", "type": "nominal", "title": "Countries"},
      "tooltip": [
        {"field": "Entity", "type": "nominal"},
        {"field": "total_affected_rate_per_100k_all_disasters", "type": "quantitative","title":"No. of ppl affected (per 100,000)","format": ".2f"}
        ]
    },
    "title": "No. of people (per 100,000) affected by disasters throught 1900 to 2010"
  }
  


    var specVis4 = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "background": "#FEF8F4",
    "data": {
        "url": "https://raw.githubusercontent.com/WeiJunHeng/FIT3179-Asgn2-Vis/main/data/natural_disasters_interactive.csv"
    },
    "vconcat": [
        {
            "params": [
                {
                "name": "disasters_highlight",
                "select": { "type": "point", "fields": ["Disasters"] },
                "bind": "legend"
                }],
            "encoding": {
                "color": {
                    "condition": {
                        "param": "brush",
                        "title": "Disaster Types",
                        "field": "Disasters",
                        "type": "nominal",
                        "scale": {
                            "domain": ["Total","Drought", "Earthquakes", "Extreme Temperature", "Floods", "Fog", "Glacial Lake Outbursts", "Landslides", "Mass Movements", "Storms", "Volcanic Activity", "Wildfires"]
                        }
                    },
                    "value": "lightgray"
                },
                "opacity": {
                "condition": { "selection": "disaster_highlight", "value": 0.6 },
                "value": 0.2
            },
                "size": {
                    "title": "No. of people",
                    "field": "homeless",
                    "scale": {"domain": [0,500,1000,1500,2000]},
                    "type": "quantitative"
                },
                "y": {
                    "field": "Entity",
                    "type": "ordinal",
                    "title": "Income Bracket"
                },
                "x": {
                    "axis": { "title": "No. of people left homeless per 100,000" },
                    "field": "homeless",
                    "type": "quantitative"
                },
                "tooltip": [
                    { "field": "Entity", "type": "ordinal", "title": "Income level" },
                    { "field": "homeless", "type": "quantitative", "title": "No. of ppl left homeless per 100,000", "format": ".2f" },
                    { "field": "Disasters", "type": "nominal"}
                ]
            },
            "width": 500,
            "height": 250,
            "params": [{
                "name": "brush",
                "select": { "type": "interval", "encodings": ["x"] }
            }, {
                "name": "disaster_highlight",
                "select": { "type": "point", "fields": ["Disasters"] },
                "bind": "legend"
            }],    
            "mark": {
                "type": "circle",
                "opacity": 0.7,
                "stroke": "black",
                "strokeWidth": 0.6
            }
        },
        {
            "encoding": {
                
            "opacity": {
                "condition": { "selection": "disaster_highlight", "value": 0.6 },
                "value": 0.2
            },
                "color": {
                    "condition": {
                        "param": "click",
                        "field": "Disasters",
                        "sort": { "field": "*", "order": "ascending", "op": "count" },
                        "scale": {
                            "domain": ["Drought", "Earthquakes", "Extreme Temperature", "Floods", "Fog", "Glacial Lake Outbursts", "Landslides", "Mass Movements", "Storms", "Volcanic Activity", "Wildfires"]
                        }
                    },
                    "value": "lightgray"
                },
                "x": { "field": "homeless", "type": "quantitative", "title": "No. of people left homeless", "axis": null },
                "y": { "field": "Entity", "type": "ordinal", "title": "Income Bracket" },
                "tooltip": [
                    { "field": "Entity", "type": "ordinal", "title": "Income Level"},
                    { "field": "homeless", "type": "quantitative", "title": "No. of ppl left homeless per 100,000", "format": ".2f" },
                    { "field": "Disasters", "type": "nominal", "title": "Disaster Type" }
                ]
            },
            "width": 500,
            "height": 250,
            "params": [{
                    "name": "click",
                    "select": { "type": "point", "encodings": ["color"] }
                },
                {
                    "name": "disaster_highlight",
                    "select": { "type": "point", "fields": ["Sea-LevelRiseScenarios"] },
                    "bind": "legend"
                }
            ],
            "mark": "bar",
            "transform": [{ "filter": { "param": "brush" } }],
            "opacity": {
                "condition": { "selection": "disaster_highlight", "value": 0.6 },
                "value": 0.2
            }
        }
    ]
};

  vegaEmbed('#vis1', specVis1, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
  
   vegaEmbed('#vis2', specVis2, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis3', specVis3, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis4', specVis4, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>

</body>
</html>
